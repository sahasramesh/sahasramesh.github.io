<!DOCTYPE html>
<html>
<head>
<title>Korvai generator</title>
<link rel="shortcut icon" type="image/png" href="img/favicon.png">
</head>
<body>

<h1>Korvai generator</h1>
<form>
  Select talam:
  <select id="tal">
    <option value="0">Adi Talam</option>
    <option value="1">Rupaka Talam</option>
    <option value="2">Misra Chapu</option>
    <option value="3">Khanda Chapu</option>
  </select>
</form>

<button type="button" onclick="myFunction()">Make korvai</button>

<p id="demo"></p>

<script>
function myFunction() {
  var poorvangam = [];
  var utharangam = [];
  var karvai = [];
  var iterations = 0;
  var talamList = [32, 36, 30, 28];
  var finalList = [];

  var e = document.getElementById("tal");
  var result = e.options[e.selectedIndex].value;
  var beats = talamList[result];

  var i;
  var j;
  var k;
  for (i = 1; i < beats; i++) {
    for (j = 1; j < beats; j++) {
      for (k = 0; k < beats; k++) {
        if (i%3 == 0 && j%3 == 0 && k%2 == 0) {
          if (i+j+k == beats || i+j+k == beats*2) {
            if (k/2 < j/3 && i/3 > 3) {
              poorvangam.push(i);
              utharangam.push(j);
              karvai.push(k);
              iterations ++;
            }
          }
        }
      }
    }
  }

  var num;
  for (num = 0; num < iterations; num++) {
    var line = poorvangam[num]/3 + " " + poorvangam[num]/3 + " " + poorvangam[num]/3 + "<br>";
    var line2 = utharangam[num]/3 + " " + karvai[num]/2 + " " + utharangam[num]/3 + " " + karvai[num]/2 + " " + utharangam[num]/3 + "<br>";
    var line3 = poorvangam[num]/3 + " " + poorvangam[num]/3 + " " + poorvangam[num]/3 + "<br>";
    var line4 = utharangam[num]/3 + " " + karvai[num]/2 + " " + utharangam[num]/3 + " " + karvai[num]/2 + " " + utharangam[num]/3 + "<br>";
    var line5 = poorvangam[num]/3 + " " + poorvangam[num]/3 + " " + poorvangam[num]/3 + "<br>";
    var line6 = utharangam[num]/3 + " " + karvai[num]/2 + " " + utharangam[num]/3 + " " + karvai[num]/2 + " " + utharangam[num]/3 + "<br><br>";
    finalList.push(line, line2, line3, line4, line5, line6);
  }

  var str = finalList.join('');
  document.getElementById("demo").innerHTML = str;
}
</script>

</body>
</html>
